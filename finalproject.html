<!DOCTYPE html>
<html>
  
  <head>
      <title> Food Apartheids in Passaic, New Jersey </title>
      <link rel="stylesheet"href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
                            integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
                            crossorigin=""/>
     <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
                            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
                            crossorigin=""></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

<style>

		#snackbar {
		  visibility: hidden;
		  min-width: 250px;
  		  margin-left: -125px;
		  background-color: #333;
		  color: #fff;
		  text-align: center;
		  border-radius: 2px;
		  padding: 16px;
		  position: fixed;
		  z-index: 1;
 		  left: 50%;
		  bottom: 30px;
		  font-size: 17px;
	}

	#snackbar.show {
	  visibility: visible;
	  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
 	 animation: fadein 0.5s, fadeout 0.5s 2.5s;
	}

	@-webkit-keyframes fadein {
		  from {bottom: 0; opacity: 0;} 
	  to {bottom: 30px; opacity: 1;}
	}

		@keyframes fadein {
		  from {bottom: 0; opacity: 0;}
		  to {bottom: 30px; opacity: 1;}
	}
	
		@-webkit-keyframes fadeout {
		from {bottom: 30px; opacity: 1;} 
		  to {bottom: 0; opacity: 0;}
	}

		@keyframes fadeout {
			  from {bottom: 30px; opacity: 1;}
			  to {bottom: 0; opacity: 0;}
	}

		.center-container {
		display: flex;
 		justify-content: center;
 		align-items: center;
		height: 10vh;
	}
	
	* {box-sizing: border-box}

		.container {
		 width: 20%;
 		 background-color: #ddd;
	}

		.skills {
		  text-align: right;
 		 padding-top: 10px;
		  padding-bottom: 10px;
		  color: white;
		}

		.lat {width: 18%; background-color: #AC9F3C;}
		.bl {width: 14%; background-color: #AC9F3C;}
		.mu {width: 12%; background-color: #AC9F3C;}
		.wh {width: 5%; background-color: #AC9F3C;}
		.nj {width: 8%; background-color: #AC9F3C;}

	
	body {
            background-color: #305746;
          }

          h1 {
            font-family: Optima, sans-serif;
            background-color: #043927;
            padding: 10px;  
            margin: 20px;
            text-align: center;
            color: #d3dbd7;
          }

	 h3 {
            font-family: Optima, sans-serif;
            background-color: #537162;
            padding: 10px;  
            margin: 20px;
            text-align: center;
            color: #d3dbd7;
          }

	 h4 {
            font-family: Optima, sans-serif;
            text-align: left;
            color: #FFFF00;
	    padding: 10px;  

          }
	
	p {
            background-color: #d3dbd7;
	    padding: 10px;  
            margin: 20px;
            text-align: left;
	    color: #668575;
	}

	
          #map {
              height: 400px;
              width: 700px;
              margin: 20px;
              display: block;
              margin-left: auto;
              margin-right: auto;
              border-radius: 20px;    
          }

	.flip-card-container {
 		 display: flex;
 		 justify-content: flex-end;
 		 align-items: center;
	}

	.skills {
		 display: flex;
 		 justify-content: flex-start;
 		 align-items: center;
	}
	
	.flip-card {
 		flex: 1; 
		background-color: transparent;
 		 width: 350px;
  		 height: 350px;
 		 perspective: 1000px;
 		 margin-right: 100px;
	}

	.flip-card-inner {
 		position: relative;
		width: 100%;
		height: 100%;
		text-align: left;
		transition: transform 0.6s;
		transform-style: preserve-3d;
		box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
	}

	.flip-card:hover .flip-card-inner {
		  transform: rotateY(180deg);
	}

	.flip-card-front, .flip-card-back {
		position: absolute;
		width: 100%;
  		height: 100%;
  		-webkit-backface-visibility: hidden;
		backface-visibility: hidden;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 20px;
		text-align: center;
	}

	.flip-card-front {
	  background-color: #A2BD8B;
 	 color: black;
	}

	.flip-card-back {
		  background-color: #A2BD8B;
 		 transform: rotateY(180deg);
	}

	.flip-card-back img {
		  max-width: 100%;
		  max-height: 100%;
	}

	.container2 {
 		display: flex;
  		align-items: flex-start;
		  }

 	 .video {
 		flex: 1;
 		padding: 20px;
		margin-left: 100px:
	 }
		 
      </style>

  
  <script>

var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',{ maxZoom: 25,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, ' + 'Tiles courtesy of <a href="http://www.hot.osm.org">HOT OSM</a>'
                          
        });

 var CartoDB_Positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { maxZoom: 25,
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>, '+ 'Tiles courtesy of <a href="https://carto.com/attributions">CARTO</a>',
		});

          function initialize() {
                var map = L.map('map', {
                center: [ 40.8568, -74.1285 ],
                  zoom: 13,
                  layers: [CartoDB_Positron]
                });

	var baseMaps = { "OSM": OpenStreetMap_HOT,
                       "Carto Positron": CartoDB_Positron
                      }
     
		  L.control.layers(baseMaps).addTo(map);
	
	   function getColor(s) {
                    return s = yes ? '#b39414' :
                            s = no ? '#ffdb62' :
                             '#FEB24C' ; 
	   }

	 function style(feature) {
                    return {
                    fillColor: getColor(feature.properties.LMT_SM_AREA),
                    weight: 2,
                    opacity: 0.5,
                    color: 'white',
                    dashArray: '1',
                    fillOpacity: 0.6
                };
		 
            }

	var response = $.ajax({
                    url: "passaicfd.geojson",
                    dataType: "json",
                    success: console.log("Passaic food desert data loaded!"),
                    error: function(xhr) {
                        alert(xhr.statusText);
                    }
                });
                
        	 $.when(response).done(function() {
    
	var fdLayer = L.geoJson(response.responseJSON,
                        { style: style,
                          onEachFeature: function(feature, layer) {
                             layer.bindPopup("<b> Food Desert Name: " +
                             feature.BG_NAME + "</b><br>" +
                                 "Population: " + 
                                feature.properties.POPULATION + "<br>" +
                                "Low Access Score: " + 
                                feature.LOW_ACC_SCR + "<br>" +
                                "Limited Supermarket Area: " + 
                                feature.properties.LMT_SM_AREA);
                         }
                          }).addTo(map);
	  }) 
	}
	  
      </script>

<script>
function myFunction() {
  var x = document.getElementById("snackbar");
  x.className = "show";
  setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
}
</script>
  </head>
  
  <body onload="initialize()">
      <h1> Food Apartheids in Passaic, New Jersey </h1>
      <h3> By Melissa Reyes' 25, Dartmouth College </h3>
	<p> A food apartheid refers to how...</p>

	
	<div class="center-container">
	  <button onclick="myFunction()"> How many food gardens exist in Passaic? </button>
	</div>
	<div id="snackbar"> There are zero food gardens.</div>
	  
	<div id="map"> </div>

	<h3> New Jersey Food Insecurity Compared by Race and Ethnicity </h3>

	<div class="skills">
	<h4> Latinx </h4>
	<div class="container"> 
	<div class="skills lat">18%</div>
	</div>
	
	<h4> Black </h4>
	<div class="container">
	<div class="skills bl">14% </div>
	</div>

	<h4> Multiple or Other </h4>
	<div class="container">
	<div class="skills mu">12% </div>
	</div>

	<h4> White </h4>
	<div class="container">
	<div class="skills wh">5% </div>
	</div>

	<h4> New Jersey Average </h4>
	<div class="container">
	<div class="skills nj">8% </div>
	</div>
	</div>

<p> "Hunger and Its Solutions in New Jersey," Robert Wood Johnson Foundation and Food Research and Action Center, 2022. </p>

<div class="container2">
  <div class="video">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/IUeFtaujl7E?si=d4TEaNs-atZzJyRd" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
  </div> 
	  
	<div class="flip-card-container">
	<div class="flip-card">
	<div class="flip-card-inner">
	<div class="flip-card-front">
      	<p2> Hover over to learn how many New Jerseyans live in a "food desert." </p2>
	</div>
 	<div class="flip-card-back">
     	<img src="fd.png" alt="Facts">
  	</div>
 	</div>
	</div>
	</div>

</div>

     <h3> References </h3>
  </body>
</html>
